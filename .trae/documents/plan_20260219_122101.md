## 自定义策略创建功能实现计划

### 1. 创建 `quant-strategy-creator` Skill
**文件**: `backend/openfinance/agents/skills/builtin/quant-strategy-creator/SKILL.md`

参考 `quant-factor-creator` 创建策略创建skill，包含：
- 策略模板（单因子策略、多因子策略、规则策略）
- 数据模型说明
- API端点文档
- 最佳实践

### 2. 创建 `strategy/custom` 文件夹和加载机制
**文件**: 
- `backend/openfinance/quant/strategy/custom/__init__.py`
- 更新 `backend/openfinance/quant/strategy/__init__.py`

创建custom文件夹，并实现自动加载机制（类似factors/indicators/__init__.py）

### 3. 创建后端策略创建API
**文件**: `backend/openfinance/quant/api/routes/strategy_creator.py`

实现以下端点：
- `POST /generate` - AI生成策略代码
- `POST /generate/stream` - 流式生成策略
- `POST /save` - 保存策略到custom文件夹
- `GET /templates` - 获取策略模板
- `GET /suggestions` - 获取策略建议

### 4. 更新策略注册表
**文件**: `backend/openfinance/quant/strategy/registry.py`

添加策略动态注册和加载功能

### 5. 创建前端服务
**文件**: `frontend/services/strategyCreatorService.ts`

实现策略创建API调用服务

### 6. 创建前端组件
**文件**: `frontend/components/quant/StrategyCreator.tsx`

实现策略创建UI组件，包含：
- Step 1: 描述策略（选择因子、权重、参数）
- Step 2: 生成代码（流式输出）
- Step 3: 审查代码
- Step 4: 测试策略
- Step 5: 保存策略

### 7. 更新前端页面
**文件**: `frontend/app/quant/strategies/page.tsx`

集成策略创建组件