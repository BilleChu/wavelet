# K-Line Collector Configuration
# ==============================
# EastMoney K线数据采集器配置

collector_id: "eastmoney_kline"
name: "EastMoney K线数据"
source: "eastmoney"
data_type: "stock_kline"
frequency: "daily"

# HTTP Request Configuration
request:
  method: "GET"
  url: "http://push2his.eastmoney.com/api/qt/stock/kline/get"
  headers:
    User-Agent: "Mozilla/5.0"
    Referer: "http://quote.eastmoney.com/"
  params:
    secid: "{secid}"
    fields1: "f1,f2,f3,f4,f5,f6"
    fields2: "f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61"
    klt: "101"
    fqt: "1"
    beg: "{start_date}"
    end: "{end_date}"
  timeout: 30.0

auth:
  type: "none"

parser:
  data_path: "data.klines"

field_mapping:
  f51:
    target: "trade_date"
    type: "string"
  f52:
    target: "open"
    type: "float"
  f53:
    target: "close"
    type: "float"
  f54:
    target: "high"
    type: "float"
  f55:
    target: "low"
    type: "float"
  f56:
    target: "volume"
    type: "integer"
  f57:
    target: "amount"
    type: "float"
  f58:
    target: "amplitude"
    type: "float"
  f59:
    target: "change_pct"
    type: "float"
  f60:
    target: "change"
    type: "float"
  f61:
    target: "turnover"
    type: "float"

required_fields:
  - "trade_date"
  - "close"

dedup_keys:
  - "code"
  - "trade_date"

rate_limit: 10.0
max_retries: 3

metadata:
  description: "A股K线数据采集"
  supports_realtime: false
