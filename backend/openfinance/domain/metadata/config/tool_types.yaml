version: "1.0"
metadata:
  namespace: openfinance
  description: OpenFinance 工具类型定义

tool_types:
  # ============ 查询工具 ============
  get_stock_quote:
    display_name: 获取股票行情
    category: reference
    description: 获取股票实时行情数据
    version: "1.0.0"
    tool_category: query
    
    parameters:
      symbol:
        type: string
        required: true
        description: 股票代码
      fields:
        type: array
        default: [open, high, low, close, volume]
        description: 返回字段
    
    returns: object
    timeout_ms: 5000
    cache_ttl: 60

  get_company_info:
    display_name: 获取公司信息
    category: reference
    description: 获取公司基本信息
    version: "1.0.0"
    tool_category: query
    
    parameters:
      symbol:
        type: string
        required: true
        description: 股票代码
    
    returns: object
    timeout_ms: 5000
    cache_ttl: 3600

  get_financial_data:
    display_name: 获取财务数据
    category: reference
    description: 获取公司财务报表数据
    version: "1.0.0"
    tool_category: query
    
    parameters:
      symbol:
        type: string
        required: true
        description: 股票代码
      report_type:
        type: enum
        values: [income, balance, cashflow]
        default: income
        description: 报表类型
      period:
        type: enum
        values: [quarter, annual]
        default: quarter
        description: 报告周期
    
    returns: object
    timeout_ms: 10000
    cache_ttl: 86400

  get_industry_info:
    display_name: 获取行业信息
    category: reference
    description: 获取行业分析数据
    version: "1.0.0"
    tool_category: query
    
    parameters:
      industry:
        type: string
        required: true
        description: 行业名称或代码
    
    returns: object
    timeout_ms: 5000
    cache_ttl: 3600

  get_news:
    display_name: 获取新闻
    category: reference
    description: 获取相关新闻资讯
    version: "1.0.0"
    tool_category: query
    
    parameters:
      keywords:
        type: string
        description: 搜索关键词
      symbol:
        type: string
        description: 股票代码
      limit:
        type: integer
        default: 10
        max: 50
        description: 返回条数
    
    returns: array
    timeout_ms: 10000
    cache_ttl: 300

  # ============ 分析工具 ============
  calculate_indicator:
    display_name: 计算技术指标
    category: reference
    description: 计算技术分析指标
    version: "1.0.0"
    tool_category: analysis
    
    parameters:
      symbol:
        type: string
        required: true
        description: 股票代码
      indicator:
        type: string
        required: true
        description: 指标名称
      params:
        type: object
        description: 指标参数
    
    returns: object
    timeout_ms: 15000
    cache_ttl: 300

  calculate_valuation:
    display_name: 计算估值指标
    category: reference
    description: 计算估值相关指标
    version: "1.0.0"
    tool_category: analysis
    
    parameters:
      symbol:
        type: string
        required: true
        description: 股票代码
      method:
        type: enum
        values: [dcf, pe, pb, ev_ebitda]
        default: dcf
        description: 估值方法
    
    returns: object
    timeout_ms: 30000
    cache_ttl: 86400

  compare_stocks:
    display_name: 股票对比
    category: reference
    description: 对比多只股票
    version: "1.0.0"
    tool_category: analysis
    
    parameters:
      symbols:
        type: array
        required: true
        description: 股票代码列表
      metrics:
        type: array
        default: [pe, pb, roe, revenue_growth]
        description: 对比指标
    
    returns: object
    timeout_ms: 10000
    cache_ttl: 3600

  # ============ 数据操作工具 ============
  read_file:
    display_name: 读取文件
    category: reference
    description: 读取文件内容
    version: "1.0.0"
    tool_category: data
    
    parameters:
      path:
        type: string
        required: true
        description: 文件路径
    
    returns: string
    timeout_ms: 5000

  write_file:
    display_name: 写入文件
    category: reference
    description: 写入文件内容
    version: "1.0.0"
    tool_category: data
    
    parameters:
      path:
        type: string
        required: true
        description: 文件路径
      content:
        type: string
        required: true
        description: 文件内容
    
    returns: boolean
    timeout_ms: 5000

  # ============ 网络工具 ============
  web_search:
    display_name: 网络搜索
    category: reference
    description: 搜索网络信息
    version: "1.0.0"
    tool_category: web
    
    parameters:
      query:
        type: string
        required: true
        description: 搜索关键词
      limit:
        type: integer
        default: 5
        max: 20
        description: 返回条数
    
    returns: array
    timeout_ms: 30000

  web_fetch:
    display_name: 获取网页
    category: reference
    description: 获取网页内容
    version: "1.0.0"
    tool_category: web
    
    parameters:
      url:
        type: string
        required: true
        description: 网页URL
    
    returns: string
    timeout_ms: 30000

  # ============ 知识图谱工具 ============
  query_knowledge_graph:
    display_name: 查询知识图谱
    category: reference
    description: 查询知识图谱中的实体和关系
    version: "1.0.0"
    tool_category: knowledge
    
    parameters:
      entity_type:
        type: string
        description: 实体类型
      entity_name:
        type: string
        description: 实体名称
      relation_type:
        type: string
        description: 关系类型
      depth:
        type: integer
        default: 1
        max: 3
        description: 查询深度
    
    returns: object
    timeout_ms: 10000
    cache_ttl: 3600
